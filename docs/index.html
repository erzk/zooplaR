<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>API Wrapper for zoopla.co.uk (UK Property Prices) • zooplaR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">zooplaR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Introduction_to_zooplaR.html">Introduction to zooplaR</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/erzk/zooplaR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="about" class="section level3">
<h3 class="hasAnchor">
<a href="#about" class="anchor"></a>About</h3>
<p>This package is an API wrapper for accessing the UK housing market data from <a href="http://www.zoopla.co.uk/">Zoopla</a>. Check the package’s <a href="https://erzk.github.io/zooplaR/">website</a> for more examples.</p>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<ul>
<li>Install <em>devtools</em> if you don’t have it yet: <code>install.packages("devtools")</code>
</li>
<li><p>Use <code><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">devtools::install_github("erzk/zooplaR")</a></code> to install the package.</p></li>
<li><p>Read the zooplaR’s <a href="https://github.com/erzk/zooplaR/blob/master/vignettes/Introduction_to_zooplaR.Rmd">vignette</a>.</p></li>
<li><p><a href="http://developer.zoopla.com/member/register/">Register</a> for an account and an API key.</p></li>
<li><p>Store the key in an environment variable.</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.edit</span>(<span class="st">"~/.Renviron"</span>)</code></pre></div>
<p>Then create a variable in the <code>.Renviron</code> file like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zoopla_key &lt;-<span class="st"> "YOUR_KEY_GOES_HERE"</span></code></pre></div>
<p>For other options of storing a key, read this <a href="https://cran.r-project.org/web/packages/httr/vignettes/secrets.html">vignette</a>.</p>
<p>In my case, the API key is stored in the variable <code>zoopla_key</code>. You can check whether it’s defined and loaded correctly and save it to a variable using:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zoopla_key &lt;-<span class="st"> </span><span class="kw">Sys.getenv</span>(<span class="st">"zoopla_key"</span>)</code></pre></div>
<p>The functions in this package assume that the API key is stored in the system environment as a <code>zoopla_key</code> variable. If not, then most function calls will fail.</p>
</div>
<div id="usage" class="section level3">
<h3 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h3>
<p>Load the package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(zooplaR)</code></pre></div>
</div>
<div id="get-the-session-id" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-session-id" class="anchor"></a>Get the session id</h2>
<p>This will be useful for other calls</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/get_session_id.html">get_session_id</a></span>(zoopla_key)
<span class="co">#&gt; [1] "2df25c87c76b6acc09b2da5b6ac5a39d"</span></code></pre></div>
</div>
<div id="get-the-average-property-prices" class="section level2">
<h2 class="hasAnchor">
<a href="#get-the-average-property-prices" class="anchor"></a>Get the average property prices</h2>
<p>Focus on a particular outcode:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">aasp &lt;-<span class="st"> </span><span class="kw"><a href="reference/average_area_sold_price.html">average_area_sold_price</a></span>(<span class="st">"EH1 2NG"</span>, <span class="st">"outcode"</span>, zoopla_key)

<span class="co"># overview</span>
<span class="kw">str</span>(aasp)
<span class="co">#&gt; List of 19</span>
<span class="co">#&gt;  $ area_name               : chr "Castle Terrace, Edinburgh EH1"</span>
<span class="co">#&gt;  $ average_sold_price_1year: chr "332627"</span>
<span class="co">#&gt;  $ average_sold_price_3year: chr "307581"</span>
<span class="co">#&gt;  $ average_sold_price_5year: chr "287203"</span>
<span class="co">#&gt;  $ average_sold_price_7year: chr "277088"</span>
<span class="co">#&gt;  $ bounding_box            :List of 4</span>
<span class="co">#&gt;   ..$ latitude_max : chr "55.948965"</span>
<span class="co">#&gt;   ..$ latitude_min : chr "55.947094"</span>
<span class="co">#&gt;   ..$ longitude_max: chr "-3.201478"</span>
<span class="co">#&gt;   ..$ longitude_min: chr "-3.205499"</span>
<span class="co">#&gt;  $ country                 : chr "Scotland"</span>
<span class="co">#&gt;  $ county                  : chr "Edinburgh"</span>
<span class="co">#&gt;  $ latitude                : chr "55.9480295"</span>
<span class="co">#&gt;  $ longitude               : chr "-3.2034885"</span>
<span class="co">#&gt;  $ number_of_sales_1year   : chr "88"</span>
<span class="co">#&gt;  $ number_of_sales_3year   : chr "320"</span>
<span class="co">#&gt;  $ number_of_sales_5year   : chr "530"</span>
<span class="co">#&gt;  $ number_of_sales_7year   : chr "715"</span>
<span class="co">#&gt;  $ postcode                : chr "EH1"</span>
<span class="co">#&gt;  $ prices_url              : chr "https://www.zoopla.co.uk/home-values/edinburgh/castle-terrace"</span>
<span class="co">#&gt;  $ street                  : chr "Castle Terrace"</span>
<span class="co">#&gt;  $ town                    : chr "Edinburgh"</span>
<span class="co">#&gt;  $ turnover                : chr "10.4"</span></code></pre></div>
<p>Or another use another function to focus on individual streets:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">asp &lt;-<span class="st"> </span><span class="kw"><a href="reference/average_sold_prices.html">average_sold_prices</a></span>(<span class="st">"EH1 2NG"</span>, <span class="st">"outcode"</span>, <span class="st">"streets"</span>, zoopla_key)

<span class="co"># overview</span>
<span class="kw">str</span>(asp)
<span class="co">#&gt; List of 20</span>
<span class="co">#&gt;  $ area_name   : chr " EH1"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "752750"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "790600"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "790600"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "760166"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "4"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "5"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "5"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "6"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/edinburgh/ramsay-garden"</span>
<span class="co">#&gt;   ..$ turnover                : chr "12.8"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "0"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "715000"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "715000"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "715000"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "0"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "1"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "1"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "1"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/albany-street-lane"</span>
<span class="co">#&gt;   ..$ turnover                : chr "11.1"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "507500"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "631318"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "592055"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "503331"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "2"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "8"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "10"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "15"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/dublin-street-eh1"</span>
<span class="co">#&gt;   ..$ turnover                : chr "16.1"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "0"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "616250"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "448750"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "448750"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "0"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "2"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "4"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "4"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/edinburgh/rutland-street"</span>
<span class="co">#&gt;   ..$ turnover                : chr "17.4"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "795000"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "614668"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "613235"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "608291"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "3"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "16"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "26"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "34"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/albany-street"</span>
<span class="co">#&gt;   ..$ turnover                : chr "21.0"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "420000"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "513750"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "423463"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "423463"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "1"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "4"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "10"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "10"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/dublin-street-lane-south"</span>
<span class="co">#&gt;   ..$ turnover                : chr "32.3"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "429533"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "494714"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "479109"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "409507"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "3"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "9"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "13"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "22"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/broughton-place"</span>
<span class="co">#&gt;   ..$ turnover                : chr "13.3"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "453663"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "470584"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "449681"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "459440"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "5"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "15"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "18"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "25"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/gayfield-square"</span>
<span class="co">#&gt;   ..$ turnover                : chr "16.4"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "579500"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "468250"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "413750"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "403214"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "2"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "4"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "6"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "7"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/edinburgh/cambridge-street"</span>
<span class="co">#&gt;   ..$ turnover                : chr "31.6"</span>
<span class="co">#&gt;  $ areas       :List of 10</span>
<span class="co">#&gt;   ..$ average_sold_price_1year: chr "537512"</span>
<span class="co">#&gt;   ..$ average_sold_price_3year: chr "445006"</span>
<span class="co">#&gt;   ..$ average_sold_price_5year: chr "395026"</span>
<span class="co">#&gt;   ..$ average_sold_price_7year: chr "383875"</span>
<span class="co">#&gt;   ..$ number_of_sales_1year   : chr "2"</span>
<span class="co">#&gt;   ..$ number_of_sales_3year   : chr "4"</span>
<span class="co">#&gt;   ..$ number_of_sales_5year   : chr "14"</span>
<span class="co">#&gt;   ..$ number_of_sales_7year   : chr "17"</span>
<span class="co">#&gt;   ..$ prices_url              : chr "https://www.zoopla.co.uk/home-values/new-town/union-street"</span>
<span class="co">#&gt;   ..$ turnover                : chr "23.7"</span>
<span class="co">#&gt;  $ bounding_box:List of 4</span>
<span class="co">#&gt;   ..$ latitude_max : chr "55.959714"</span>
<span class="co">#&gt;   ..$ latitude_min : chr "55.945666"</span>
<span class="co">#&gt;   ..$ longitude_max: chr "-3.183098"</span>
<span class="co">#&gt;   ..$ longitude_min: chr "-3.20958"</span>
<span class="co">#&gt;  $ country     : chr "Scotland"</span>
<span class="co">#&gt;  $ county      : chr "Edinburgh"</span>
<span class="co">#&gt;  $ latitude    : chr "55.95269"</span>
<span class="co">#&gt;  $ longitude   : chr "-3.196339"</span>
<span class="co">#&gt;  $ postcode    : chr "EH1"</span>
<span class="co">#&gt;  $ result_count: chr "127"</span>
<span class="co">#&gt;  $ street      : NULL</span>
<span class="co">#&gt;  $ town        : NULL</span></code></pre></div>
<p>In the example above, the streets can be found in the URLs, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">asp[<span class="dv">2</span>]<span class="op">$</span>areas<span class="op">$</span>prices_url
<span class="co">#&gt; [1] "https://www.zoopla.co.uk/home-values/edinburgh/ramsay-garden"</span></code></pre></div>
</div>
<div id="zed-indices" class="section level2">
<h2 class="hasAnchor">
<a href="#zed-indices" class="anchor"></a>Zed indices</h2>
<p>Zoopla prepared its own indices, they can be accessed with the following functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">zi &lt;-<span class="st"> </span><span class="kw"><a href="reference/zed_index.html">zed_index</a></span>(<span class="st">"E151AZ"</span>, <span class="st">"town"</span>, zoopla_key)

<span class="co"># overview</span>
<span class="kw">str</span>(zi)
<span class="co">#&gt; List of 18</span>
<span class="co">#&gt;  $ area_name       : chr "London"</span>
<span class="co">#&gt;  $ area_url        : chr "https://www.zoopla.co.uk/home-values/london"</span>
<span class="co">#&gt;  $ bounding_box    :List of 4</span>
<span class="co">#&gt;   ..$ latitude_max : chr "51.667934"</span>
<span class="co">#&gt;   ..$ latitude_min : chr "51.386276"</span>
<span class="co">#&gt;   ..$ longitude_max: chr "0.137295"</span>
<span class="co">#&gt;   ..$ longitude_min: chr "-0.347077"</span>
<span class="co">#&gt;  $ country         : chr "England"</span>
<span class="co">#&gt;  $ county          : chr "London"</span>
<span class="co">#&gt;  $ latitude        : chr "51.527105"</span>
<span class="co">#&gt;  $ longitude       : chr "-0.104891"</span>
<span class="co">#&gt;  $ postcode        : NULL</span>
<span class="co">#&gt;  $ street          : NULL</span>
<span class="co">#&gt;  $ town            : chr "London"</span>
<span class="co">#&gt;  $ zed_index       : chr "772866"</span>
<span class="co">#&gt;  $ zed_index_1year : chr "761203"</span>
<span class="co">#&gt;  $ zed_index_2year : chr "726696"</span>
<span class="co">#&gt;  $ zed_index_3month: chr "762424"</span>
<span class="co">#&gt;  $ zed_index_3year : chr "661104"</span>
<span class="co">#&gt;  $ zed_index_4year : chr "605264"</span>
<span class="co">#&gt;  $ zed_index_5year : chr "542110"</span>
<span class="co">#&gt;  $ zed_index_6month: chr "771079"</span></code></pre></div>
<p>Function <code><a href="reference/zed_index.html">zed_index()</a></code> can also provide indices on other aggregation levels. Please consult documentation for more info.</p>
<p>There is also another zed index function that takes more arguments:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">azi &lt;-<span class="st"> </span><span class="kw"><a href="reference/area_zed_indices.html">area_zed_indices</a></span>(<span class="st">"sw185rw"</span>, <span class="st">"postcodes"</span>, <span class="st">"outcode"</span>, <span class="dv">1</span>, <span class="dv">10</span>, zoopla_key, <span class="st">"descending"</span>)

<span class="co"># overview</span>
<span class="kw">str</span>(azi)
<span class="co">#&gt; List of 21</span>
<span class="co">#&gt;  $ area_name   : chr " SW18"</span>
<span class="co">#&gt;  $ bounding_box:List of 4</span>
<span class="co">#&gt;   ..$ latitude_max : chr "51.465056"</span>
<span class="co">#&gt;   ..$ latitude_min : chr "51.436391"</span>
<span class="co">#&gt;   ..$ longitude_max: chr "-0.169658"</span>
<span class="co">#&gt;   ..$ longitude_min: chr "-0.21581"</span>
<span class="co">#&gt;  $ country     : chr "England"</span>
<span class="co">#&gt;  $ county      : chr "London"</span>
<span class="co">#&gt;  $ latitude    : chr "51.4507235"</span>
<span class="co">#&gt;  $ longitude   : chr "-0.192734"</span>
<span class="co">#&gt;  $ postcode    : chr "SW18"</span>
<span class="co">#&gt;  $ result_count: chr "796"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 2SX"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.456826"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.177483"</span>
<span class="co">#&gt;   ..$ zed_index: chr "5126553"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 3SW"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.447786"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.170402"</span>
<span class="co">#&gt;   ..$ zed_index: chr "4850104"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 3RJ"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.448754"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.169658"</span>
<span class="co">#&gt;   ..$ zed_index: chr "4355191"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 3SP"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.446405"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.172429"</span>
<span class="co">#&gt;   ..$ zed_index: chr "4223654"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 2RE"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.451899"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.181608"</span>
<span class="co">#&gt;   ..$ zed_index: chr "4037904"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 3RH"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.448611"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.170844"</span>
<span class="co">#&gt;   ..$ zed_index: chr "3653447"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 2SU"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.458202"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.176391"</span>
<span class="co">#&gt;   ..$ zed_index: chr "3569062"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 2RG"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.452716"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.181547"</span>
<span class="co">#&gt;   ..$ zed_index: chr "3527584"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 3RN"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.449004"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.171260"</span>
<span class="co">#&gt;   ..$ zed_index: chr "3475355"</span>
<span class="co">#&gt;  $ results     :List of 4</span>
<span class="co">#&gt;   ..$ name     : chr "SW18 3LG"</span>
<span class="co">#&gt;   ..$ latitude : chr "51.447621"</span>
<span class="co">#&gt;   ..$ longitude: chr "-0.174294"</span>
<span class="co">#&gt;   ..$ zed_index: chr "2998400"</span>
<span class="co">#&gt;  $ results_url : chr "https://www.zoopla.co.uk/home-values/london/sw18/wandsworth-earlsfield"</span>
<span class="co">#&gt;  $ street      : NULL</span>
<span class="co">#&gt;  $ town        : NULL</span></code></pre></div>
</div>
<div id="property-listings" class="section level2">
<h2 class="hasAnchor">
<a href="#property-listings" class="anchor"></a>Property listings</h2>
<p>You can get the Zoopla listings for a particular area using the following call:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">listings &lt;-<span class="st"> </span><span class="kw"><a href="reference/property_listings.html">property_listings</a></span>(<span class="dt">postcode =</span> <span class="st">"E15 4QS"</span>, <span class="dt">API_key =</span> zoopla_key)

<span class="co"># overview</span>
<span class="kw">names</span>(listings)
<span class="co">#&gt;  [1] "area_name"    "bounding_box" "country"      "county"      </span>
<span class="co">#&gt;  [5] "latitude"     "listing"      "listing"      "listing"     </span>
<span class="co">#&gt;  [9] "listing"      "listing"      "listing"      "listing"     </span>
<span class="co">#&gt; [13] "listing"      "listing"      "listing"      "longitude"   </span>
<span class="co">#&gt; [17] "postcode"     "result_count" "street"       "town"</span>

<span class="kw">str</span>(listings[<span class="dv">6</span>])
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ listing:List of 42</span>
<span class="co">#&gt;   ..$ agent_address       : chr "5 Harbour Exchange Square, Canary Wharf, London"</span>
<span class="co">#&gt;   ..$ agent_logo          : chr "https://st.zoocdn.com/zoopla_static_agent_logo_(457665).png"</span>
<span class="co">#&gt;   ..$ agent_name          : chr "Ernest-Brooks International"</span>
<span class="co">#&gt;   ..$ agent_phone         : chr "020 8115 8214"</span>
<span class="co">#&gt;   ..$ category            : chr "Residential"</span>
<span class="co">#&gt;   ..$ country             : chr "England"</span>
<span class="co">#&gt;   ..$ country_code        : chr "gb"</span>
<span class="co">#&gt;   ..$ county              : chr "London"</span>
<span class="co">#&gt;   ..$ description         : chr "*investors portfolio* We are delighted to offer a 5 property off-plan investment portfolio, available for bulk "| __truncated__</span>
<span class="co">#&gt;   ..$ details_url         : chr "https://www.zoopla.co.uk/for-sale/details/45389808?utm_source=v1:7-KHQG7DHECLpUX8bL0ztmDrIhQoz7qY&amp;utm_medium=api"</span>
<span class="co">#&gt;   ..$ displayable_address : chr "Stratford City, Stratford E15"</span>
<span class="co">#&gt;   ..$ first_published_date: chr "2017-10-26 15:46:22"</span>
<span class="co">#&gt;   ..$ floor_area          :List of 3</span>
<span class="co">#&gt;   .. ..$ name : chr "max_floor_area"</span>
<span class="co">#&gt;   .. ..$ units: chr "sq_feet"</span>
<span class="co">#&gt;   .. ..$ value: chr "782"</span>
<span class="co">#&gt;   ..$ floor_area          :List of 3</span>
<span class="co">#&gt;   .. ..$ name : chr "min_floor_area"</span>
<span class="co">#&gt;   .. ..$ units: chr "sq_feet"</span>
<span class="co">#&gt;   .. ..$ value: chr "782"</span>
<span class="co">#&gt;   ..$ furnished_state     : NULL</span>
<span class="co">#&gt;   ..$ image_150_113_url   : chr "https://lid.zoocdn.com/150/113/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span>
<span class="co">#&gt;   ..$ image_354_255_url   : chr "https://lid.zoocdn.com/354/255/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span>
<span class="co">#&gt;   ..$ image_50_38_url     : chr "https://lid.zoocdn.com/50/38/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span>
<span class="co">#&gt;   ..$ image_645_430_url   : chr "https://lid.zoocdn.com/645/430/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span>
<span class="co">#&gt;   ..$ image_80_60_url     : chr "https://lid.zoocdn.com/80/60/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span>
<span class="co">#&gt;   ..$ image_caption       : NULL</span>
<span class="co">#&gt;   ..$ image_url           : chr "https://lid.zoocdn.com/354/255/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span>
<span class="co">#&gt;   ..$ last_published_date : chr "2017-12-18 19:24:22"</span>
<span class="co">#&gt;   ..$ latitude            : chr "51.54048"</span>
<span class="co">#&gt;   ..$ listing_id          : chr "45389808"</span>
<span class="co">#&gt;   ..$ listing_status      : chr "sale"</span>
<span class="co">#&gt;   ..$ longitude           : chr "0.00032"</span>
<span class="co">#&gt;   ..$ new_home            : chr "true"</span>
<span class="co">#&gt;   ..$ num_bathrooms       : chr "0"</span>
<span class="co">#&gt;   ..$ num_bedrooms        : chr "8"</span>
<span class="co">#&gt;   ..$ num_floors          : chr "0"</span>
<span class="co">#&gt;   ..$ num_recepts         : chr "0"</span>
<span class="co">#&gt;   ..$ outcode             : chr "E15"</span>
<span class="co">#&gt;   ..$ post_town           : chr "London"</span>
<span class="co">#&gt;   ..$ price               : chr "2950000"</span>
<span class="co">#&gt;   ..$ price_change        :List of 4</span>
<span class="co">#&gt;   .. ..$ date     : chr "2017-10-26 15:45:57"</span>
<span class="co">#&gt;   .. ..$ direction: NULL</span>
<span class="co">#&gt;   .. ..$ percent  : chr "0%"</span>
<span class="co">#&gt;   .. ..$ price    : chr "2950000"</span>
<span class="co">#&gt;   ..$ property_report_url : chr "https://www.zoopla.co.uk/area-report/?listing_id=45389808&amp;z_cmp=property%20report&amp;z_con=get%20a%20report&amp;z_med="| __truncated__</span>
<span class="co">#&gt;   ..$ property_type       : chr "Flat"</span>
<span class="co">#&gt;   ..$ short_description   : chr "&lt;p class=\"top\"&gt;*investors portfolio* We are delighted to offer a 5 property off-plan investment portfolio, av"| __truncated__</span>
<span class="co">#&gt;   ..$ status              : chr "for_sale"</span>
<span class="co">#&gt;   ..$ street_name         : chr "Stratford City"</span>
<span class="co">#&gt;   ..$ thumbnail_url       : chr "https://lid.zoocdn.com/80/60/f6d43e81376feadce3f176390bcff7f7dac92a49.jpg"</span></code></pre></div>
</div>
<div id="get-house-price-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#get-house-price-charts" class="anchor"></a>Get house price charts</h2>
<p>Chart showing prices in the last three months in a particular outcode:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avgr &lt;-<span class="st"> </span><span class="kw"><a href="reference/area_value_graphs.html">area_value_graphs</a></span>(<span class="st">"W12"</span>, zoopla_key)

<span class="co"># overview</span>
<span class="kw">str</span>(avgr)
<span class="co">#&gt; List of 14</span>
<span class="co">#&gt;  $ country                 : chr "England"</span>
<span class="co">#&gt;  $ longitude               : num -0.235</span>
<span class="co">#&gt;  $ area_name               : chr " W12"</span>
<span class="co">#&gt;  $ street                  : chr ""</span>
<span class="co">#&gt;  $ town                    : chr ""</span>
<span class="co">#&gt;  $ average_values_graph_url: chr "https://www.zoopla.co.uk/dynimgs/graph/average_prices/W12?width=400&amp;height=212"</span>
<span class="co">#&gt;  $ latitude                : num 51.5</span>
<span class="co">#&gt;  $ value_ranges_graph_url  : chr "https://www.zoopla.co.uk/dynimgs/graph/price_bands/W12?width=400&amp;height=212"</span>
<span class="co">#&gt;  $ county                  : chr "London"</span>
<span class="co">#&gt;  $ value_trend_graph_url   : chr "https://www.zoopla.co.uk/dynimgs/graph/local_type_trends/W12?width=400&amp;height=212"</span>
<span class="co">#&gt;  $ postcode                : chr "W12"</span>
<span class="co">#&gt;  $ area_values_url         : chr "https://www.zoopla.co.uk/home-values/london/w12/shepherds-bush"</span>
<span class="co">#&gt;  $ bounding_box            :List of 4</span>
<span class="co">#&gt;   ..$ longitude_min: chr "-0.25271"</span>
<span class="co">#&gt;   ..$ latitude_min : chr "51.498647"</span>
<span class="co">#&gt;   ..$ longitude_max: chr "-0.216383"</span>
<span class="co">#&gt;   ..$ latitude_max : chr "51.519761"</span>
<span class="co">#&gt;  $ home_values_graph_url   : chr "https://www.zoopla.co.uk/dynimgs/graph/home_value/oc/W12?width=400&amp;height=212"</span>

<span class="co"># to see a chart, follow the URLs, e.g.</span>
avgr<span class="op">$</span>average_values_graph_url
<span class="co">#&gt; [1] "https://www.zoopla.co.uk/dynimgs/graph/average_prices/W12?width=400&amp;height=212"</span></code></pre></div>
<p>More detailed charts can also include information about council tax, crime, education, or population age range. These charts can be generated by Zoopla using the following also on an incode level.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ligr &lt;-<span class="st"> </span><span class="kw"><a href="reference/local_info_graphs.html">local_info_graphs</a></span>(<span class="st">"W12"</span>, zoopla_key)

<span class="co"># overview</span>
<span class="kw">str</span>(ligr)
<span class="co">#&gt; List of 13</span>
<span class="co">#&gt;  $ area_name            : chr " W12"</span>
<span class="co">#&gt;  $ bounding_box         :List of 4</span>
<span class="co">#&gt;   ..$ latitude_max : chr "51.519761"</span>
<span class="co">#&gt;   ..$ latitude_min : chr "51.498647"</span>
<span class="co">#&gt;   ..$ longitude_max: chr "-0.216383"</span>
<span class="co">#&gt;   ..$ longitude_min: chr "-0.25271"</span>
<span class="co">#&gt;  $ council_tax_graph_url: chr "https://www.zoopla.co.uk/dynimgs/graph/local_info_chart/600-285-CouncilTax-W12"</span>
<span class="co">#&gt;  $ country              : chr "England"</span>
<span class="co">#&gt;  $ county               : chr "London"</span>
<span class="co">#&gt;  $ crime_graph_url      : chr "https://www.zoopla.co.uk/dynimgs/graph/local_info_chart/600-285-Crime-W12"</span>
<span class="co">#&gt;  $ education_graph_url  : chr "https://www.zoopla.co.uk/dynimgs/graph/local_info_chart/600-285-education-W12"</span>
<span class="co">#&gt;  $ latitude             : chr "51.509204"</span>
<span class="co">#&gt;  $ longitude            : chr "-0.2345465"</span>
<span class="co">#&gt;  $ people_graph_url     : chr "https://www.zoopla.co.uk/dynimgs/graph/local_info_chart/600-285-People-W12"</span>
<span class="co">#&gt;  $ postcode             : chr "W12"</span>
<span class="co">#&gt;  $ street               : NULL</span>
<span class="co">#&gt;  $ town                 : NULL</span>

<span class="co"># to see a chart, follow the URLs, e.g.</span>
ligr<span class="op">$</span>council_tax_graph_url
<span class="co">#&gt; [1] "https://www.zoopla.co.uk/dynimgs/graph/local_info_chart/600-285-CouncilTax-W12"</span></code></pre></div>
</div>
<div id="suggest-autocompletions-for-locations" class="section level2">
<h2 class="hasAnchor">
<a href="#suggest-autocompletions-for-locations" class="anchor"></a>Suggest autocompletions for locations</h2>
<p>If you are not sure how to spell a location, you can use the API to get suggestions. On this example I made a typo when writing Ruislip:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">geo_ac &lt;-<span class="st"> </span><span class="kw"><a href="reference/geo_autocomplete.html">geo_autocomplete</a></span>(<span class="st">"ruisli"</span>, <span class="st">"listings"</span>, zoopla_key)

<span class="co"># overview</span>
<span class="kw">str</span>(geo_ac)
<span class="co">#&gt; List of 12</span>
<span class="co">#&gt;  $ area_name  : NULL</span>
<span class="co">#&gt;  $ county     : NULL</span>
<span class="co">#&gt;  $ postcode   : NULL</span>
<span class="co">#&gt;  $ street     : NULL</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "ruislip"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip, London"</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "ruislip-manor"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip Manor, London"</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "station/tube/ruislip-gardens"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip Gardens Station, London"</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "station/tube/ruislip-manor"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip Manor Station, London"</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "station/tube/ruislip"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip Station, London"</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "schools/primary/ruislip-gardens-primary-school"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip Gardens Primary School, London, HA4"</span>
<span class="co">#&gt;  $ suggestions:List of 2</span>
<span class="co">#&gt;   ..$ identifier: chr "schools/secondary/ruislip-high-school"</span>
<span class="co">#&gt;   ..$ value     : chr "Ruislip High School, London, HA4"</span>
<span class="co">#&gt;  $ town       : NULL</span></code></pre></div>
<div id="limitations" class="section level3">
<h3 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h3>
<p>As most APIs, Zoopla <a href="http://developer.zoopla.com/API_terms_of_use">limits</a> the number of calls. The limit is 100 calls per second and 100 per hour. Once you hit the limit, the 403 error will appear.</p>
</div>
<div id="thanks" class="section level3">
<h3 class="hasAnchor">
<a href="#thanks" class="anchor"></a>Thanks</h3>
<div class="figure">
<img src="https://www.zoopla.co.uk/static/images/mashery/powered-by-zoopla-150x73.png">
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/erzk/zooplaR">https://​github.com/​erzk/​zooplaR</a>
</li>
<li>Report a bug at <br><a href="https://github.com/erzk/zooplaR/issues">https://​github.com/​erzk/​zooplaR/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Eryk Walczak <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.gnu.org/licenses/gpl-3.0.html"><img src="http://img.shields.io/badge/license-GPL--3-brightgreen.svg?style=flat" alt="Package-License"></a></li>
<li><a href="https://travis-ci.org/erzk/zooplaR"><img src="https://travis-ci.org/erzk/zooplaR.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://cran.r-project.org/package=PostcodesioR"><img src="http://www.r-pkg.org/badges/version/PostcodesioR" alt="CRAN_Status_Badge"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Eryk Walczak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
